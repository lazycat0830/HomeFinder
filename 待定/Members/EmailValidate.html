<!DOCTYPE html>
<html>
<head>
    <title>Email validation result</title>
</head>
<body>
    <h1>Email validation result</h1>
    <p>Account: <span id="account"></span></p>
    <p>AuthCode: <span id="authCode"></span></p>
    <div id="result"></div>

    <script>
        // 获取 URL 参数
        const urlParams = new URLSearchParams(window.location.search);
        const account = urlParams.get('Account');
        const authCode = urlParams.get('AuthCode');

        // 将参数显示在页面上
        document.getElementById("account").innerHTML = account;
        document.getElementById("authCode").innerHTML = authCode;

        // 构造 API 调用 URL
        const apiUrl = `http://127.0.0.1:5555/api/Auth/emailValidate?account=${account}&authcode=${authCode}`;

        // 发送 API 请求并处理响应
        fetch(apiUrl)
            .then(response => response.text())
            .then(data => {
                document.getElementById("result").innerHTML = data;
            })
            .catch(error => {
                document.getElementById("result").innerHTML = "API request failed.";
            });
    </script>
</body>
</html>